(this.webpackJsonpradency_task=this.webpackJsonpradency_task||[]).push([[0],{18:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r(1),a=r.n(n),c=r(3),i=r.n(c),l=r(7),d=r(4),j=r(5),o=r(9),h=r(8),x=r(6),b=r.n(x),u=function(e){var t=e.text,r=e.valid;return void 0===r||r?Object(s.jsx)("td",{children:t}):Object(s.jsx)("td",{className:"red",children:t})},O=function(e){var t=e.user;if(!t)return null;var r=t.validFields;return Object(s.jsxs)("tr",{children:[Object(s.jsx)(u,{text:t.id}),Object(s.jsx)(u,{text:t.full_name}),Object(s.jsx)(u,{text:t.phone,valid:r.phone}),Object(s.jsx)(u,{text:t.email,valid:r.email}),Object(s.jsx)(u,{text:t.age,valid:r.age}),Object(s.jsx)(u,{text:t.experience,valid:r.experience}),Object(s.jsx)(u,{text:t.yearly_income,valid:r.yearly_income}),Object(s.jsx)(u,{text:t.has_children,valid:r.has_children}),Object(s.jsx)(u,{text:t.license_states,valid:r.license_states}),Object(s.jsx)(u,{text:t.expiration_date,valid:r.expiration_date}),Object(s.jsx)(u,{text:t.license_number,valid:r.license_number}),Object(s.jsx)(u,{text:t.duplicate_with})]})},m=function(e){var t=e.users;return Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"ID"}),Object(s.jsx)("th",{children:"Full name"}),Object(s.jsx)("th",{children:"Phone"}),Object(s.jsx)("th",{children:"Email"}),Object(s.jsx)("th",{children:"Age"}),Object(s.jsx)("th",{children:"Experience"}),Object(s.jsx)("th",{children:"Yearly Income"}),Object(s.jsx)("th",{children:"Has children"}),Object(s.jsx)("th",{children:"License states"}),Object(s.jsx)("th",{children:"Expiration date"}),Object(s.jsx)("th",{children:"License number"}),Object(s.jsx)("th",{children:"Duplicate with"})]})}),Object(s.jsx)("tbody",{children:t.map((function(e){return Object(s.jsx)(O,{user:e},e.id)}))})]})},p=r.p+"static/media/arrow-top.5283cba2.svg",v=function(){return Object(s.jsxs)("div",{className:"msgToUpload",children:[Object(s.jsx)("p",{children:"Please upload a CSV file"}),Object(s.jsx)("img",{src:p,alt:"Please upload csv file"})]})},g=(r(18),r.p+"static/media/spinner.e61bc095.svg"),f=function(e){var t=e.msg,r=void 0===t?"":t;return Object(s.jsxs)("div",{className:"spinner",children:[Object(s.jsx)("img",{src:g,alt:"Loading..."}),Object(s.jsx)("p",{children:r})]})},_=function(e){Object(o.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={headers:[],data:null,error:null,loading:!1,msg:""},e.parserOptions={header:!0,skipEmptyLines:!0,beforeFirstChunk:function(){e.setState({headers:[],data:null,error:null,loading:!0,msg:"Uploading file..."})},transformHeader:function(t){var r=t.toLowerCase().replace(/\W/g,"_");return e.setState({headers:[].concat(Object(l.a)(e.state.headers),[r])}),r}},e.onFileLoaded=function(t,r){if("text/csv"!==r.type)return e.setState({error:"File format is not correct",loading:!1});e.setState({msg:"Checking the file"});if(["full_name","phone","email"].every((function(t){return e.state.headers.includes(t)}))){var s=new Worker("./valid-worker.js");s.postMessage(t),s.onerror=function(){return e.setState({error:"Something went wrong",loading:!1})},s.onmessage=function(t){var r=t.data.slice(0,500);e.setState({data:r,loading:!1,msg:""}),s.terminate()}}else e.setState({error:"File format is not correct",loading:!1})},e.handleError=function(t){return e.setState({error:t,loading:!1})},e}return Object(j.a)(r,[{key:"render",value:function(){var e=this.state,t=e.data,r=e.error,n=e.loading,a=e.msg;return Object(s.jsxs)("div",{className:"app",children:[Object(s.jsx)("div",{className:"header",children:"List of users"}),Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)(b.a,{label:"Import Users",cssLabelClass:"btn",onError:this.handleError,onFileLoaded:this.onFileLoaded,parserOptions:this.parserOptions}),t?Object(s.jsx)(m,{users:t}):!n&&Object(s.jsx)(v,{}),n&&Object(s.jsx)(f,{msg:a}),r&&!n&&Object(s.jsx)("div",{className:"msg msg-error",children:r})]})]})}}]),r}(n.Component);i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(_,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.7d39f50c.chunk.js.map